{% extends "base.html" %}
{% load socialaccount %}

{% block content %}
<div class="container mt-4">
  <div class="card pp-form mb-3">
    <div class="card-body">
      <h2 class="h4 mb-2">Continue with {{ provider.name }}</h2>

      {% if process == "connect" %}
        <p class="text-muted mb-3">
          You are about to connect a new {{ provider.name }} account to your PixelPulse profile.
        </p>
      {% else %}
        <p class="text-muted mb-3">
          You are about to sign in using your {{ provider.name }} account.
        </p>
      {% endif %}

      <form method="post"
            action="{% provider_login_url provider.id process=process scope=scope auth_params=auth_params %}">
        {% csrf_token %}
        <div class="d-flex gap-2">
          <a href="{% url 'account_login' %}" class="btn btn-secondary">Cancel</a>
          <button type="submit" class="btn btn-primary">Continue</button>
        </div>
      </form>

      <p class="small text-muted mt-3 mb-0">
        We request only the minimum data needed to authenticate (e.g., email and a provider ID).
        See our <a href="{% url 'privacy' %}">Privacy Policy</a>.
      </p>
    </div>
  </div>
</div>
{% endblock %}